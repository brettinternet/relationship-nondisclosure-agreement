{"mappings":"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","sources":["node_modules/signature_pad/dist/signature_pad.m.js","node_modules/body-scroll-lock/lib/bodyScrollLock.es6.js","src/main.js"],"names":["Point","constructor","x","y","time","this","Date","now","distanceTo","start","Math","sqrt","pow","equals","other","velocityFrom","Bezier","startPoint","control2","control1","endPoint","startWidth","endWidth","[object Object]","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","k","cm","tx","ty","length","px","py","i","t","cx","point","cy","xdiff","ydiff","SignaturePad","canvas","options","_handleMouseDown","event","which","_mouseButtonDown","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","preventDefault","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","target","velocityFilterWeight","minWidth","maxWidth","throttle","minDistance","fn","wait","result","storedContext","storedArgs","previous","timeout","later","apply","args","remaining","clearTimeout","window","setTimeout","prototype","_strokeUpdate","dotSize","penColor","backgroundColor","onBegin","onEnd","_ctx","getContext","clear","on","ctx","fillStyle","clearRect","width","height","fillRect","_data","_reset","_isEmpty","fromDataURL","dataUrl","callback","image","Image","ratio","devicePixelRatio","onload","drawImage","onerror","error","src","toDataURL","type","encoderOptions","_toSVG","style","touchAction","msTouchAction","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","off","removeEventListener","document","isEmpty","fromData","pointGroups","_fromData","color","curve","_drawCurve","_drawDot","toData","newPointGroup","push","clientX","clientY","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","_addPoint","addEventListener","_lastPoints","_lastVelocity","_lastWidth","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","fromPoints","shift","velocity","newWidth","_strokeWidth","max","_drawCurveSegment","moveTo","arc","PI","widthDelta","drawSteps","floor","beginPath","tt","ttt","u","uu","uuu","closePath","fill","drawCurve","drawDot","group","j","basicPoint","maxX","maxY","svg","createElementNS","setAttribute","toString","path","createElement","isNaN","attr","toFixed","appendChild","circle","header","body","innerHTML","undefined","dummy","nodes","childNodes","cloneNode","btoa","hasPassiveEvents","passiveTestOptions","passive","isIosDevice","navigator","platform","test","maxTouchPoints","previousBodyOverflowSetting","previousBodyPaddingRight","locks","documentListenerAdded","initialClientY","allowTouchMove","el","some","lock","rawEvent","e","touches","disableBodyScroll","targetElement","console","ontouchstart","ontouchmove","scrollTop","scrollHeight","clientHeight","isTargetElementTotallyScrolled","stopPropagation","handleScroll","reserveScrollBarGap","scrollBarGap","innerWidth","documentElement","clientWidth","paddingRight","overflow","setOverflowHidden","enableBodyScroll","filter","$ef99d2f9528d093fb239ab68cb84c216$var$_defineProperty","fromInputLabel","defaultValue","updateInnerTextClassList","getElementsByClassName","updateInnerText","text","Array","from","forEach","value","innerText","getElementById","ev","currentTarget","todayMonth","todayDay","today","getFullYear","todayYear","querySelectorAll","input","getTodayValue","updateName","getMonth","slice","getDate","offsetWidth","offsetHeight","scale","id","lastSignedBy","container","classList","add","signaturePad","close","querySelector","$f223ee23bf048d39ea5c39250ac7b$export$disableBodyScroll","borderColor","signatureDrawings","signatureImage","appendImage","activator","parent","parentElement","button","open","img","alt","name","shouldClose","confirm","remove","$f223ee23bf048d39ea5c39250ac7b$export$enableBodyScroll","$e73d6284645afe0c035683266683$export$default","resizeCanvas","signer","getElementsByTagName","save"],"version":3,"file":"main.bbd82b46.js.map","sourcesContent":["/*!\n * Signature Pad v3.0.0-beta.3 | https://github.com/szimek/signature_pad\n * (c) 2018 Szymon Nowak | Released under the MIT license\n */\n\nclass Point {\n    constructor(x, y, time) {\n        this.x = x;\n        this.y = y;\n        this.time = time || Date.now();\n    }\n    distanceTo(start) {\n        return Math.sqrt(Math.pow(this.x - start.x, 2) + Math.pow(this.y - start.y, 2));\n    }\n    equals(other) {\n        return this.x === other.x && this.y === other.y && this.time === other.time;\n    }\n    velocityFrom(start) {\n        return (this.time !== start.time) ? this.distanceTo(start) / (this.time - start.time) : 0;\n    }\n}\n\nclass Bezier {\n    constructor(startPoint, control2, control1, endPoint, startWidth, endWidth) {\n        this.startPoint = startPoint;\n        this.control2 = control2;\n        this.control1 = control1;\n        this.endPoint = endPoint;\n        this.startWidth = startWidth;\n        this.endWidth = endWidth;\n    }\n    static fromPoints(points, widths) {\n        const c2 = this.calculateControlPoints(points[0], points[1], points[2]).c2;\n        const c3 = this.calculateControlPoints(points[1], points[2], points[3]).c1;\n        return new Bezier(points[1], c2, c3, points[2], widths.start, widths.end);\n    }\n    static calculateControlPoints(s1, s2, s3) {\n        const dx1 = s1.x - s2.x;\n        const dy1 = s1.y - s2.y;\n        const dx2 = s2.x - s3.x;\n        const dy2 = s2.y - s3.y;\n        const m1 = { x: (s1.x + s2.x) / 2.0, y: (s1.y + s2.y) / 2.0 };\n        const m2 = { x: (s2.x + s3.x) / 2.0, y: (s2.y + s3.y) / 2.0 };\n        const l1 = Math.sqrt((dx1 * dx1) + (dy1 * dy1));\n        const l2 = Math.sqrt((dx2 * dx2) + (dy2 * dy2));\n        const dxm = (m1.x - m2.x);\n        const dym = (m1.y - m2.y);\n        const k = l2 / (l1 + l2);\n        const cm = { x: m2.x + (dxm * k), y: m2.y + (dym * k) };\n        const tx = s2.x - cm.x;\n        const ty = s2.y - cm.y;\n        return {\n            c1: new Point(m1.x + tx, m1.y + ty),\n            c2: new Point(m2.x + tx, m2.y + ty),\n        };\n    }\n    length() {\n        const steps = 10;\n        let length = 0;\n        let px;\n        let py;\n        for (let i = 0; i <= steps; i += 1) {\n            const t = i / steps;\n            const cx = this.point(t, this.startPoint.x, this.control1.x, this.control2.x, this.endPoint.x);\n            const cy = this.point(t, this.startPoint.y, this.control1.y, this.control2.y, this.endPoint.y);\n            if (i > 0) {\n                const xdiff = cx - px;\n                const ydiff = cy - py;\n                length += Math.sqrt((xdiff * xdiff) + (ydiff * ydiff));\n            }\n            px = cx;\n            py = cy;\n        }\n        return length;\n    }\n    point(t, start, c1, c2, end) {\n        return (start * (1.0 - t) * (1.0 - t) * (1.0 - t))\n            + (3.0 * c1 * (1.0 - t) * (1.0 - t) * t)\n            + (3.0 * c2 * (1.0 - t) * t * t)\n            + (end * t * t * t);\n    }\n}\n\nfunction throttle(fn, wait = 250) {\n    let previous = 0;\n    let timeout = null;\n    let result;\n    let storedContext;\n    let storedArgs;\n    const later = () => {\n        previous = Date.now();\n        timeout = null;\n        result = fn.apply(storedContext, storedArgs);\n        if (!timeout) {\n            storedContext = null;\n            storedArgs = [];\n        }\n    };\n    return function (...args) {\n        const now = Date.now();\n        const remaining = wait - (now - previous);\n        storedContext = this;\n        storedArgs = args;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = fn.apply(storedContext, storedArgs);\n            if (!timeout) {\n                storedContext = null;\n                storedArgs = [];\n            }\n        }\n        else if (!timeout) {\n            timeout = window.setTimeout(later, remaining);\n        }\n        return result;\n    };\n}\n\nclass SignaturePad {\n    constructor(canvas, options = {}) {\n        this.canvas = canvas;\n        this.options = options;\n        this._handleMouseDown = (event) => {\n            if (event.which === 1) {\n                this._mouseButtonDown = true;\n                this._strokeBegin(event);\n            }\n        };\n        this._handleMouseMove = (event) => {\n            if (this._mouseButtonDown) {\n                this._strokeMoveUpdate(event);\n            }\n        };\n        this._handleMouseUp = (event) => {\n            if (event.which === 1 && this._mouseButtonDown) {\n                this._mouseButtonDown = false;\n                this._strokeEnd(event);\n            }\n        };\n        this._handleTouchStart = (event) => {\n            event.preventDefault();\n            if (event.targetTouches.length === 1) {\n                const touch = event.changedTouches[0];\n                this._strokeBegin(touch);\n            }\n        };\n        this._handleTouchMove = (event) => {\n            event.preventDefault();\n            const touch = event.targetTouches[0];\n            this._strokeMoveUpdate(touch);\n        };\n        this._handleTouchEnd = (event) => {\n            const wasCanvasTouched = event.target === this.canvas;\n            if (wasCanvasTouched) {\n                event.preventDefault();\n                const touch = event.changedTouches[0];\n                this._strokeEnd(touch);\n            }\n        };\n        this.velocityFilterWeight = options.velocityFilterWeight || 0.7;\n        this.minWidth = options.minWidth || 0.5;\n        this.maxWidth = options.maxWidth || 2.5;\n        this.throttle = ('throttle' in options ? options.throttle : 16);\n        this.minDistance = ('minDistance' in options ? options.minDistance : 5);\n        if (this.throttle) {\n            this._strokeMoveUpdate = throttle(SignaturePad.prototype._strokeUpdate, this.throttle);\n        }\n        else {\n            this._strokeMoveUpdate = SignaturePad.prototype._strokeUpdate;\n        }\n        this.dotSize = options.dotSize || function () {\n            return (this.minWidth + this.maxWidth) / 2;\n        };\n        this.penColor = options.penColor || 'black';\n        this.backgroundColor = options.backgroundColor || 'rgba(0,0,0,0)';\n        this.onBegin = options.onBegin;\n        this.onEnd = options.onEnd;\n        this._ctx = canvas.getContext('2d');\n        this.clear();\n        this.on();\n    }\n    clear() {\n        const ctx = this._ctx;\n        const canvas = this.canvas;\n        ctx.fillStyle = this.backgroundColor;\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n        this._data = [];\n        this._reset();\n        this._isEmpty = true;\n    }\n    fromDataURL(dataUrl, options = {}, callback) {\n        const image = new Image();\n        const ratio = options.ratio || window.devicePixelRatio || 1;\n        const width = options.width || (this.canvas.width / ratio);\n        const height = options.height || (this.canvas.height / ratio);\n        this._reset();\n        image.onload = () => {\n            this._ctx.drawImage(image, 0, 0, width, height);\n            if (callback) {\n                callback();\n            }\n        };\n        image.onerror = (error) => {\n            if (callback) {\n                callback(error);\n            }\n        };\n        image.src = dataUrl;\n        this._isEmpty = false;\n    }\n    toDataURL(type = 'image/png', encoderOptions) {\n        switch (type) {\n            case 'image/svg+xml':\n                return this._toSVG();\n            default:\n                return this.canvas.toDataURL(type, encoderOptions);\n        }\n    }\n    on() {\n        this.canvas.style.touchAction = 'none';\n        this.canvas.style.msTouchAction = 'none';\n        if (window.PointerEvent) {\n            this._handlePointerEvents();\n        }\n        else {\n            this._handleMouseEvents();\n            if ('ontouchstart' in window) {\n                this._handleTouchEvents();\n            }\n        }\n    }\n    off() {\n        this.canvas.style.touchAction = 'auto';\n        this.canvas.style.msTouchAction = 'auto';\n        this.canvas.removeEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.removeEventListener('pointermove', this._handleMouseMove);\n        document.removeEventListener('pointerup', this._handleMouseUp);\n        this.canvas.removeEventListener('mousedown', this._handleMouseDown);\n        this.canvas.removeEventListener('mousemove', this._handleMouseMove);\n        document.removeEventListener('mouseup', this._handleMouseUp);\n        this.canvas.removeEventListener('touchstart', this._handleTouchStart);\n        this.canvas.removeEventListener('touchmove', this._handleTouchMove);\n        this.canvas.removeEventListener('touchend', this._handleTouchEnd);\n    }\n    isEmpty() {\n        return this._isEmpty;\n    }\n    fromData(pointGroups) {\n        this.clear();\n        this._fromData(pointGroups, ({ color, curve }) => this._drawCurve({ color, curve }), ({ color, point }) => this._drawDot({ color, point }));\n        this._data = pointGroups;\n    }\n    toData() {\n        return this._data;\n    }\n    _strokeBegin(event) {\n        const newPointGroup = {\n            color: this.penColor,\n            points: [],\n        };\n        this._data.push(newPointGroup);\n        this._reset();\n        this._strokeUpdate(event);\n        if (typeof this.onBegin === 'function') {\n            this.onBegin(event);\n        }\n    }\n    _strokeUpdate(event) {\n        const x = event.clientX;\n        const y = event.clientY;\n        const point = this._createPoint(x, y);\n        const lastPointGroup = this._data[this._data.length - 1];\n        const lastPoints = lastPointGroup.points;\n        const lastPoint = lastPoints.length > 0 && lastPoints[lastPoints.length - 1];\n        const isLastPointTooClose = lastPoint ? point.distanceTo(lastPoint) <= this.minDistance : false;\n        const color = lastPointGroup.color;\n        if (!lastPoint || !(lastPoint && isLastPointTooClose)) {\n            const curve = this._addPoint(point);\n            if (!lastPoint) {\n                this._drawDot({ color, point });\n            }\n            else if (curve) {\n                this._drawCurve({ color, curve });\n            }\n            lastPoints.push({\n                time: point.time,\n                x: point.x,\n                y: point.y,\n            });\n        }\n    }\n    _strokeEnd(event) {\n        this._strokeUpdate(event);\n        if (typeof this.onEnd === 'function') {\n            this.onEnd(event);\n        }\n    }\n    _handlePointerEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('pointerdown', this._handleMouseDown);\n        this.canvas.addEventListener('pointermove', this._handleMouseMove);\n        document.addEventListener('pointerup', this._handleMouseUp);\n    }\n    _handleMouseEvents() {\n        this._mouseButtonDown = false;\n        this.canvas.addEventListener('mousedown', this._handleMouseDown);\n        this.canvas.addEventListener('mousemove', this._handleMouseMove);\n        document.addEventListener('mouseup', this._handleMouseUp);\n    }\n    _handleTouchEvents() {\n        this.canvas.addEventListener('touchstart', this._handleTouchStart);\n        this.canvas.addEventListener('touchmove', this._handleTouchMove);\n        this.canvas.addEventListener('touchend', this._handleTouchEnd);\n    }\n    _reset() {\n        this._lastPoints = [];\n        this._lastVelocity = 0;\n        this._lastWidth = (this.minWidth + this.maxWidth) / 2;\n        this._ctx.fillStyle = this.penColor;\n    }\n    _createPoint(x, y) {\n        const rect = this.canvas.getBoundingClientRect();\n        return new Point(x - rect.left, y - rect.top, new Date().getTime());\n    }\n    _addPoint(point) {\n        const { _lastPoints } = this;\n        _lastPoints.push(point);\n        if (_lastPoints.length > 2) {\n            if (_lastPoints.length === 3) {\n                _lastPoints.unshift(_lastPoints[0]);\n            }\n            const widths = this._calculateCurveWidths(_lastPoints[1], _lastPoints[2]);\n            const curve = Bezier.fromPoints(_lastPoints, widths);\n            _lastPoints.shift();\n            return curve;\n        }\n        return null;\n    }\n    _calculateCurveWidths(startPoint, endPoint) {\n        const velocity = (this.velocityFilterWeight * endPoint.velocityFrom(startPoint))\n            + ((1 - this.velocityFilterWeight) * this._lastVelocity);\n        const newWidth = this._strokeWidth(velocity);\n        const widths = {\n            end: newWidth,\n            start: this._lastWidth,\n        };\n        this._lastVelocity = velocity;\n        this._lastWidth = newWidth;\n        return widths;\n    }\n    _strokeWidth(velocity) {\n        return Math.max(this.maxWidth / (velocity + 1), this.minWidth);\n    }\n    _drawCurveSegment(x, y, width) {\n        const ctx = this._ctx;\n        ctx.moveTo(x, y);\n        ctx.arc(x, y, width, 0, 2 * Math.PI, false);\n        this._isEmpty = false;\n    }\n    _drawCurve({ color, curve }) {\n        const ctx = this._ctx;\n        const widthDelta = curve.endWidth - curve.startWidth;\n        const drawSteps = Math.floor(curve.length()) * 2;\n        ctx.beginPath();\n        ctx.fillStyle = color;\n        for (let i = 0; i < drawSteps; i += 1) {\n            const t = i / drawSteps;\n            const tt = t * t;\n            const ttt = tt * t;\n            const u = 1 - t;\n            const uu = u * u;\n            const uuu = uu * u;\n            let x = uuu * curve.startPoint.x;\n            x += 3 * uu * t * curve.control1.x;\n            x += 3 * u * tt * curve.control2.x;\n            x += ttt * curve.endPoint.x;\n            let y = uuu * curve.startPoint.y;\n            y += 3 * uu * t * curve.control1.y;\n            y += 3 * u * tt * curve.control2.y;\n            y += ttt * curve.endPoint.y;\n            const width = curve.startWidth + (ttt * widthDelta);\n            this._drawCurveSegment(x, y, width);\n        }\n        ctx.closePath();\n        ctx.fill();\n    }\n    _drawDot({ color, point }) {\n        const ctx = this._ctx;\n        const width = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n        ctx.beginPath();\n        this._drawCurveSegment(point.x, point.y, width);\n        ctx.closePath();\n        ctx.fillStyle = color;\n        ctx.fill();\n    }\n    _fromData(pointGroups, drawCurve, drawDot) {\n        for (const group of pointGroups) {\n            const { color, points } = group;\n            if (points.length > 1) {\n                for (let j = 0; j < points.length; j += 1) {\n                    const basicPoint = points[j];\n                    const point = new Point(basicPoint.x, basicPoint.y, basicPoint.time);\n                    this.penColor = color;\n                    if (j === 0) {\n                        this._reset();\n                    }\n                    const curve = this._addPoint(point);\n                    if (curve) {\n                        drawCurve({ color, curve });\n                    }\n                }\n            }\n            else {\n                this._reset();\n                drawDot({\n                    color,\n                    point: points[0],\n                });\n            }\n        }\n    }\n    _toSVG() {\n        const pointGroups = this._data;\n        const ratio = Math.max(window.devicePixelRatio || 1, 1);\n        const minX = 0;\n        const minY = 0;\n        const maxX = this.canvas.width / ratio;\n        const maxY = this.canvas.height / ratio;\n        const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttribute('width', this.canvas.width.toString());\n        svg.setAttribute('height', this.canvas.height.toString());\n        this._fromData(pointGroups, ({ color, curve }) => {\n            const path = document.createElement('path');\n            if (!isNaN(curve.control1.x) &&\n                !isNaN(curve.control1.y) &&\n                !isNaN(curve.control2.x) &&\n                !isNaN(curve.control2.y)) {\n                const attr = `M ${curve.startPoint.x.toFixed(3)},${curve.startPoint.y.toFixed(3)} `\n                    + `C ${curve.control1.x.toFixed(3)},${curve.control1.y.toFixed(3)} `\n                    + `${curve.control2.x.toFixed(3)},${curve.control2.y.toFixed(3)} `\n                    + `${curve.endPoint.x.toFixed(3)},${curve.endPoint.y.toFixed(3)}`;\n                path.setAttribute('d', attr);\n                path.setAttribute('stroke-width', (curve.endWidth * 2.25).toFixed(3));\n                path.setAttribute('stroke', color);\n                path.setAttribute('fill', 'none');\n                path.setAttribute('stroke-linecap', 'round');\n                svg.appendChild(path);\n            }\n        }, ({ color, point }) => {\n            const circle = document.createElement('circle');\n            const dotSize = typeof this.dotSize === 'function' ? this.dotSize() : this.dotSize;\n            circle.setAttribute('r', dotSize.toString());\n            circle.setAttribute('cx', point.x.toString());\n            circle.setAttribute('cy', point.y.toString());\n            circle.setAttribute('fill', color);\n            svg.appendChild(circle);\n        });\n        const prefix = 'data:image/svg+xml;base64,';\n        const header = '<svg'\n            + ' xmlns=\"http://www.w3.org/2000/svg\"'\n            + ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"'\n            + ` viewBox=\"${minX} ${minY} ${maxX} ${maxY}\"`\n            + ` width=\"${maxX}\"`\n            + ` height=\"${maxY}\"`\n            + '>';\n        let body = svg.innerHTML;\n        if (body === undefined) {\n            const dummy = document.createElement('dummy');\n            const nodes = svg.childNodes;\n            dummy.innerHTML = '';\n            for (let i = 0; i < nodes.length; i += 1) {\n                dummy.appendChild(nodes[i].cloneNode(true));\n            }\n            body = dummy.innerHTML;\n        }\n        const footer = '</svg>';\n        const data = header + body + footer;\n        return prefix + btoa(data);\n    }\n}\n\nexport default SignaturePad;\n","\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nlet hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  const passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nconst isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nlet locks = [];\nlet documentListenerAdded = false;\nlet initialClientY = -1;\nlet previousBodyOverflowSetting;\nlet previousBodyPaddingRight;\n\n// returns true if `el` should be allowed to receive touchmove events.\nconst allowTouchMove = el => locks.some(lock => {\n  if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n    return true;\n  }\n\n  return false;\n});\n\nconst preventDefault = rawEvent => {\n  const e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nconst setOverflowHidden = options => {\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\n  setTimeout(() => {\n    // If previousBodyPaddingRight is already set, don't set it again.\n    if (previousBodyPaddingRight === undefined) {\n      const reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n      const scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n      if (reserveScrollBarGap && scrollBarGap > 0) {\n        previousBodyPaddingRight = document.body.style.paddingRight;\n        document.body.style.paddingRight = `${scrollBarGap}px`;\n      }\n    }\n\n    // If previousBodyOverflowSetting is already set, don't set it again.\n    if (previousBodyOverflowSetting === undefined) {\n      previousBodyOverflowSetting = document.body.style.overflow;\n      document.body.style.overflow = 'hidden';\n    }\n  });\n};\n\nconst restoreOverflowSetting = () => {\n  // Setting overflow on body/documentElement synchronously in Desktop Safari slows down\n  // the responsiveness for some reason. Setting within a setTimeout fixes this.\n  setTimeout(() => {\n    if (previousBodyPaddingRight !== undefined) {\n      document.body.style.paddingRight = previousBodyPaddingRight;\n\n      // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n      // can be set again.\n      previousBodyPaddingRight = undefined;\n    }\n\n    if (previousBodyOverflowSetting !== undefined) {\n      document.body.style.overflow = previousBodyOverflowSetting;\n\n      // Restore previousBodyOverflowSetting to undefined\n      // so setOverflowHidden knows it can be set again.\n      previousBodyOverflowSetting = undefined;\n    }\n  });\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nconst isTargetElementTotallyScrolled = targetElement => targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n\nconst handleScroll = (event, targetElement) => {\n  const clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport const disableBodyScroll = (targetElement, options) => {\n  if (isIosDevice) {\n    // targetElement must be provided, and disableBodyScroll must not have been\n    // called on this targetElement before.\n    if (!targetElement) {\n      // eslint-disable-next-line no-console\n      console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n      return;\n    }\n\n    if (targetElement && !locks.some(lock => lock.targetElement === targetElement)) {\n      const lock = {\n        targetElement,\n        options: options || {}\n      };\n\n      locks = [...locks, lock];\n\n      targetElement.ontouchstart = event => {\n        if (event.targetTouches.length === 1) {\n          // detect single touch.\n          initialClientY = event.targetTouches[0].clientY;\n        }\n      };\n      targetElement.ontouchmove = event => {\n        if (event.targetTouches.length === 1) {\n          // detect single touch.\n          handleScroll(event, targetElement);\n        }\n      };\n\n      if (!documentListenerAdded) {\n        document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n        documentListenerAdded = true;\n      }\n    }\n  } else {\n    setOverflowHidden(options);\n    const lock = {\n      targetElement,\n      options: options || {}\n    };\n\n    locks = [...locks, lock];\n  }\n};\n\nexport const clearAllBodyScrollLocks = () => {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(lock => {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    locks = [];\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  } else {\n    restoreOverflowSetting();\n    locks = [];\n  }\n};\n\nexport const enableBodyScroll = targetElement => {\n  if (isIosDevice) {\n    if (!targetElement) {\n      // eslint-disable-next-line no-console\n      console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n      return;\n    }\n\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    locks = locks.filter(lock => lock.targetElement !== targetElement);\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n\n      documentListenerAdded = false;\n    }\n  } else {\n    locks = locks.filter(lock => lock.targetElement !== targetElement);\n    if (!locks.length) {\n      restoreOverflowSetting();\n    }\n  }\n};\n\n","import SignaturePad from \"signature_pad\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\n\nclass Inputs {\n  principalName;\n  partnerName;\n\n  constructor() {\n    this.today = new Date();\n\n    document.querySelectorAll(\"input[type='date']\").forEach((input) => {\n      input.value = this.getTodayValue();\n    });\n\n    this.updateName(\"principal-name\", \"Principal\");\n    this.updateName(\"partner-name\", \"Partner\");\n  }\n\n  updateName = (fromInputLabel, defaultValue) => {\n    const updateInnerTextClassList = document.getElementsByClassName(\n      fromInputLabel\n    );\n    const updateInnerText = (text) => {\n      Array.from(updateInnerTextClassList).forEach((el) => {\n        const value = text || defaultValue;\n        el.innerText = value;\n      });\n    };\n    document.getElementById(fromInputLabel).addEventListener(\"input\", (ev) => {\n      updateInnerText(ev.currentTarget.innerText);\n    });\n    updateInnerText(document.getElementById(fromInputLabel).innerText);\n  };\n\n  getReadableDate = () =>\n    `${this.todayMonth}/${this.todayDay}/${this.today.getFullYear()}`;\n\n  getTodayValue = () => `${this.todayYear}-${this.todayMonth}-${this.todayDay}`;\n\n  get todayYear() {\n    return this.today.getFullYear();\n  }\n\n  get todayMonth() {\n    return (\"0\" + (this.today.getMonth() + 1)).slice(-2);\n  }\n\n  get todayDay() {\n    return (\"0\" + this.today.getDate()).slice(-2);\n  }\n}\n\nclass Signature {\n  container;\n  canvas;\n  signaturePad;\n  lastSignedBy;\n  signatureDrawings = {};\n\n  constructor() {\n    this.container = document.querySelector(\"#signature\");\n    this.canvas = this.container.querySelector(\"canvas\");\n    this.signaturePad = new SignaturePad(this.canvas);\n\n    window.addEventListener(\"resize\", this.resizeCanvas);\n    this.resizeCanvas();\n\n    Array.from(document.getElementsByClassName(\"sign\")).forEach((signer) => {\n      const button = signer.getElementsByTagName(\"button\")[0];\n      button.addEventListener(\"click\", (ev) => this.open(ev.currentTarget.id));\n    });\n\n    document\n      .getElementById(\"close-signature\")\n      .addEventListener(\"click\", this.close);\n    document\n      .getElementById(\"clear-signature\")\n      .addEventListener(\"click\", this.clear);\n    document\n      .getElementById(\"save-signature\")\n      .addEventListener(\"click\", this.save);\n  }\n\n  resizeCanvas = () => {\n    const ratio = Math.max(window.devicePixelRatio || 1, 1);\n    this.canvas.width = this.canvas.offsetWidth * ratio;\n    this.canvas.height = this.canvas.offsetHeight * ratio;\n    this.canvas.getContext(\"2d\").scale(ratio, ratio);\n    this.clear();\n  };\n\n  open = (id) => {\n    this.lastSignedBy = id;\n    this.container.classList.add(\"active\");\n    this.container.addEventListener(\"click\", () => {\n      if (this.signaturePad.isEmpty()) this.close();\n    });\n    this.container\n      .querySelector(\".modal-body\")\n      .addEventListener(\"click\", (ev) => {\n        ev.stopPropagation();\n      });\n    disableBodyScroll(this.container);\n  };\n\n  save = () => {\n    if (!this.signaturePad.isEmpty()) {\n      this.signatureDrawings[this.lastSignedBy] = this.signaturePad.toData();\n      const signatureImage = this.signaturePad.toDataURL(\"image/svg+xml\");\n      this.appendImage(signatureImage);\n      this.clear();\n      this.close();\n    } else {\n      this.canvas.style.borderColor = \"red\";\n    }\n  };\n\n  appendImage = (src) => {\n    const lastSignedBy = this.lastSignedBy;\n    const activator = document.getElementById(lastSignedBy);\n    const parent = activator.parentElement;\n    const button = document.createElement(\"button\");\n    button.addEventListener(\"click\", () => {\n      this.open(lastSignedBy);\n      this.signaturePad.fromData(this.signatureDrawings[lastSignedBy]);\n    });\n    const img = document.createElement(\"img\");\n    button.id = lastSignedBy;\n    img.src = src;\n    img.style.width = \"100%\";\n    img.alt = activator.name;\n    button.appendChild(img);\n    parent.innerHTML = \"\";\n    parent.appendChild(button);\n  };\n\n  close = () => {\n    let shouldClose = true;\n    if (\n      !this.signaturePad.isEmpty() &&\n      !this.signatureDrawings[this.lastSignedBy]\n    ) {\n      shouldClose = window.confirm(\n        \"Are you sure you want to close without saving your signature?\"\n      );\n    }\n    if (shouldClose) {\n      this.container.classList.remove(\"active\");\n      this.canvas.style.borderColor = \"#999\";\n      enableBodyScroll(this.container);\n      this.clear();\n    }\n  };\n\n  clear = () => {\n    this.signaturePad.clear();\n  };\n}\n\nnew Inputs();\nnew Signature();\n"]}