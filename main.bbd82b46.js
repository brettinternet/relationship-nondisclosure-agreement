!function(){
/*!
 * Signature Pad v3.0.0-beta.3 | https://github.com/szimek/signature_pad
 * (c) 2018 Szymon Nowak | Released under the MIT license
 */
class t{constructor(t,e,i){this.x=t,this.y=e,this.time=i||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class e{constructor(t,e,i,n,s,o){this.startPoint=t,this.control2=e,this.control1=i,this.endPoint=n,this.startWidth=s,this.endWidth=o}static fromPoints(t,i){const n=this.calculateControlPoints(t[0],t[1],t[2]).c2,s=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new e(t[1],n,s,t[2],i.start,i.end)}static calculateControlPoints(e,i,n){const s=e.x-i.x,o=e.y-i.y,a=i.x-n.x,h=i.y-n.y,r=(e.x+i.x)/2,c=(e.y+i.y)/2,l=(i.x+n.x)/2,d=(i.y+n.y)/2,u=Math.sqrt(s*s+o*o),v=Math.sqrt(a*a+h*h),m=v/(u+v),g=l+(r-l)*m,p=d+(c-d)*m,y=i.x-g,w=i.y-p;return{c1:new t(r+y,c+w),c2:new t(l+y,d+w)}}length(){let t,e,i=0;for(let n=0;n<=10;n+=1){const s=n/10,o=this.point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const n=o-t,s=a-e;i+=Math.sqrt(n*n+s*s)}t=o,e=a}return i}point(t,e,i,n,s){return e*(1-t)*(1-t)*(1-t)+3*i*(1-t)*(1-t)*t+3*n*(1-t)*t*t+s*t*t*t}}class i{constructor(t,e={}){this.canvas=t,this.options=e,this._handleMouseDown=t=>{1===t.which&&(this._mouseButtonDown=!0,this._strokeBegin(t))},this._handleMouseMove=t=>{this._mouseButtonDown&&this._strokeMoveUpdate(t)},this._handleMouseUp=t=>{1===t.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(t))},this._handleTouchStart=t=>{if(t.preventDefault(),1===t.targetTouches.length){const e=t.changedTouches[0];this._strokeBegin(e)}},this._handleTouchMove=t=>{t.preventDefault();const e=t.targetTouches[0];this._strokeMoveUpdate(e)},this._handleTouchEnd=t=>{if(t.target===this.canvas){t.preventDefault();const e=t.changedTouches[0];this._strokeEnd(e)}},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this.throttle?this._strokeMoveUpdate=function(t,e=250){let i,n,s,o=0,a=null;const h=()=>{o=Date.now(),a=null,i=t.apply(n,s),a||(n=null,s=[])};return function(...r){const c=Date.now(),l=e-(c-o);return n=this,s=r,l<=0||l>e?(a&&(clearTimeout(a),a=null),o=c,i=t.apply(n,s),a||(n=null,s=[])):a||(a=window.setTimeout(h,l)),i}}(i.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=i.prototype._strokeUpdate,this.dotSize=e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=e.onBegin,this.onEnd=e.onEnd,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(t,e={},i){const n=new Image,s=e.ratio||window.devicePixelRatio||1,o=e.width||this.canvas.width/s,a=e.height||this.canvas.height/s;this._reset(),n.onload=()=>{this._ctx.drawImage(n,0,0,o,a),i&&i()},n.onerror=t=>{i&&i(t)},n.src=t,this._isEmpty=!1}toDataURL(t="image/png",e){switch(t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t){this.clear(),this._fromData(t,({color:t,curve:e})=>this._drawCurve({color:t,curve:e}),({color:t,point:e})=>this._drawDot({color:t,point:e})),this._data=t}toData(){return this._data}_strokeBegin(t){const e={color:this.penColor,points:[]};this._data.push(e),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)}_strokeUpdate(t){const e=t.clientX,i=t.clientY,n=this._createPoint(e,i),s=this._data[this._data.length-1],o=s.points,a=o.length>0&&o[o.length-1],h=!!a&&n.distanceTo(a)<=this.minDistance,r=s.color;if(!a||!a||!h){const t=this._addPoint(n);a?t&&this._drawCurve({color:r,curve:t}):this._drawDot({color:r,point:n}),o.push({time:n.time,x:n.x,y:n.y})}}_strokeEnd(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,i){const n=this.canvas.getBoundingClientRect();return new t(e-n.left,i-n.top,(new Date).getTime())}_addPoint(t){const{_lastPoints:i}=this;if(i.push(t),i.length>2){3===i.length&&i.unshift(i[0]);const t=this._calculateCurveWidths(i[1],i[2]),n=e.fromPoints(i,t);return i.shift(),n}return null}_calculateCurveWidths(t,e){const i=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(i),s={end:n,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=n,s}_strokeWidth(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}_drawCurveSegment(t,e,i){const n=this._ctx;n.moveTo(t,e),n.arc(t,e,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:t,curve:e}){const i=this._ctx,n=e.endWidth-e.startWidth,s=2*Math.floor(e.length());i.beginPath(),i.fillStyle=t;for(let t=0;t<s;t+=1){const i=t/s,o=i*i,a=o*i,h=1-i,r=h*h,c=r*h;let l=c*e.startPoint.x;l+=3*r*i*e.control1.x,l+=3*h*o*e.control2.x,l+=a*e.endPoint.x;let d=c*e.startPoint.y;d+=3*r*i*e.control1.y,d+=3*h*o*e.control2.y,d+=a*e.endPoint.y;const u=e.startWidth+a*n;this._drawCurveSegment(l,d,u)}i.closePath(),i.fill()}_drawDot({color:t,point:e}){const i=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(e.x,e.y,n),i.closePath(),i.fillStyle=t,i.fill()}_fromData(e,i,n){for(const s of e){const{color:e,points:o}=s;if(o.length>1)for(let n=0;n<o.length;n+=1){const s=o[n],a=new t(s.x,s.y,s.time);this.penColor=e,0===n&&this._reset();const h=this._addPoint(a);h&&i({color:e,curve:h})}else this._reset(),n({color:e,point:o[0]})}}_toSVG(){const t=this._data,e=Math.max(window.devicePixelRatio||1,1),i=this.canvas.width/e,n=this.canvas.height/e,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width",this.canvas.width.toString()),s.setAttribute("height",this.canvas.height.toString()),this._fromData(t,({color:t,curve:e})=>{const i=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){const n=`M ${e.startPoint.x.toFixed(3)},${e.startPoint.y.toFixed(3)} C ${e.control1.x.toFixed(3)},${e.control1.y.toFixed(3)} ${e.control2.x.toFixed(3)},${e.control2.y.toFixed(3)} ${e.endPoint.x.toFixed(3)},${e.endPoint.y.toFixed(3)}`;i.setAttribute("d",n),i.setAttribute("stroke-width",(2.25*e.endWidth).toFixed(3)),i.setAttribute("stroke",t),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}},({color:t,point:e})=>{const i=document.createElement("circle"),n="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.setAttribute("r",n.toString()),i.setAttribute("cx",e.x.toString()),i.setAttribute("cy",e.y.toString()),i.setAttribute("fill",t),s.appendChild(i)});const o=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${i} ${n}" width="${i}" height="${n}">`;let a=s.innerHTML;if(void 0===a){const t=document.createElement("dummy"),e=s.childNodes;t.innerHTML="";for(let i=0;i<e.length;i+=1)t.appendChild(e[i].cloneNode(!0));a=t.innerHTML}return"data:image/svg+xml;base64,"+btoa(o+a+"</svg>")}}let n=!1;if("undefined"!=typeof window){const t={get passive(){n=!0}};window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}const s="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);let o,a,h=[],r=!1,c=-1;const l=t=>h.some(e=>!(!e.options.allowTouchMove||!e.options.allowTouchMove(t))),d=t=>{const e=t||window.event;return!!l(e.target)||(e.touches.length>1||(e.preventDefault&&e.preventDefault(),!1))},u=(t,e)=>{if(s){if(!t)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(t&&!h.some(e=>e.targetElement===t)){const i={targetElement:t,options:e||{}};h=[...h,i],t.ontouchstart=t=>{1===t.targetTouches.length&&(c=t.targetTouches[0].clientY)},t.ontouchmove=e=>{1===e.targetTouches.length&&((t,e)=>{const i=t.targetTouches[0].clientY-c;!l(t.target)&&(e&&0===e.scrollTop&&i>0||(t=>!!t&&t.scrollHeight-t.scrollTop<=t.clientHeight)(e)&&i<0?d(t):t.stopPropagation())})(e,t)},r||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),r=!0)}}else{(t=>{setTimeout(()=>{if(void 0===a){const e=!!t&&!0===t.reserveScrollBarGap,i=window.innerWidth-document.documentElement.clientWidth;e&&i>0&&(a=document.body.style.paddingRight,document.body.style.paddingRight=i+"px")}void 0===o&&(o=document.body.style.overflow,document.body.style.overflow="hidden")})})(e);const i={targetElement:t,options:e||{}};h=[...h,i]}},v=t=>{if(s){if(!t)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");t.ontouchstart=null,t.ontouchmove=null,h=h.filter(e=>e.targetElement!==t),r&&0===h.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),r=!1)}else h=h.filter(e=>e.targetElement!==t),h.length||setTimeout(()=>{void 0!==a&&(document.body.style.paddingRight=a,a=void 0),void 0!==o&&(document.body.style.overflow=o,o=void 0)})};function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}new class{constructor(){m(this,"principalName",void 0),m(this,"partnerName",void 0),m(this,"updateName",(t,e)=>{const i=document.getElementsByClassName(t),n=t=>{Array.from(i).forEach(i=>{const n=t||e;i.innerText=n})};document.getElementById(t).addEventListener("input",t=>{n(t.currentTarget.innerText)}),n(document.getElementById(t).innerText)}),m(this,"getReadableDate",()=>`${this.todayMonth}/${this.todayDay}/${this.today.getFullYear()}`),m(this,"getTodayValue",()=>`${this.todayYear}-${this.todayMonth}-${this.todayDay}`),this.today=new Date,document.querySelectorAll("input[type='date']").forEach(t=>{t.value=this.getTodayValue()}),this.updateName("principal-name","Principal"),this.updateName("partner-name","Partner")}get todayYear(){return this.today.getFullYear()}get todayMonth(){return("0"+(this.today.getMonth()+1)).slice(-2)}get todayDay(){return("0"+this.today.getDate()).slice(-2)}},new class{constructor(){m(this,"container",void 0),m(this,"canvas",void 0),m(this,"signaturePad",void 0),m(this,"lastSignedBy",void 0),m(this,"signatureDrawings",{}),m(this,"resizeCanvas",()=>{const t=Math.max(window.devicePixelRatio||1,1);this.canvas.width=this.canvas.offsetWidth*t,this.canvas.height=this.canvas.offsetHeight*t,this.canvas.getContext("2d").scale(t,t),this.clear()}),m(this,"open",t=>{this.lastSignedBy=t,this.container.classList.add("active"),this.container.addEventListener("click",()=>{this.signaturePad.isEmpty()&&this.close()}),this.container.querySelector(".modal-body").addEventListener("click",t=>{t.stopPropagation()}),u(this.container)}),m(this,"save",()=>{if(this.signaturePad.isEmpty())this.canvas.style.borderColor="red";else{this.signatureDrawings[this.lastSignedBy]=this.signaturePad.toData();const t=this.signaturePad.toDataURL("image/svg+xml");this.appendImage(t),this.clear(),this.close()}}),m(this,"appendImage",t=>{const e=this.lastSignedBy,i=document.getElementById(e),n=i.parentElement,s=document.createElement("button");s.addEventListener("click",()=>{this.open(e),this.signaturePad.fromData(this.signatureDrawings[e])});const o=document.createElement("img");s.id=e,o.src=t,o.style.width="100%",o.alt=i.name,s.appendChild(o),n.innerHTML="",n.appendChild(s)}),m(this,"close",()=>{let t=!0;this.signaturePad.isEmpty()||this.signatureDrawings[this.lastSignedBy]||(t=window.confirm("Are you sure you want to close without saving your signature?")),t&&(this.container.classList.remove("active"),this.canvas.style.borderColor="#999",v(this.container),this.clear())}),m(this,"clear",()=>{this.signaturePad.clear()}),this.container=document.querySelector("#signature"),this.canvas=this.container.querySelector("canvas"),this.signaturePad=new i(this.canvas),window.addEventListener("resize",this.resizeCanvas),this.resizeCanvas(),Array.from(document.getElementsByClassName("sign")).forEach(t=>{t.getElementsByTagName("button")[0].addEventListener("click",t=>this.open(t.currentTarget.id))}),document.getElementById("close-signature").addEventListener("click",this.close),document.getElementById("clear-signature").addEventListener("click",this.clear),document.getElementById("save-signature").addEventListener("click",this.save)}}}();
//# sourceMappingURL=main.bbd82b46.js.map
